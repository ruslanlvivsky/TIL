# HTTP 상태코드

인프런 - 모든 개발자를 위한 HTTP 웹 기본 지식

- 상태코드: 클라이언트가 보낸 요청 처리 상태를 응답에서 알려주는 기능

1. 100번대 informational : 요청 수신 뒤 처리 중
2. 200번대 Successful : 요청 정상 처리
3. 300번대 Redirection : 요청 완료하려면 추가 행동 필요
4. 400번대 Client Error : 클라이언트 오류, 잘못된 문법 등으로 서버가 요청을 수행하지 못함
5. 500번대 Server Error : 서버 오류, 서버가 정상 요청을 처리하지 못하는 상태 

### 100 informational

- 실무에서 사용되지 않음

### 200 Successful

- `200 OK`
- `201 Created` (POST) - 요청 성공 후 새로운 리소스 생성
- `202 Accepted` - 요청 접수되었으나 처리 완료되지 않음, 배치 처리에서 사용
- `204 No Content` - 서버가 요청을 수행하였지만 응답 페이로드 본문에 보낼 데이터가 없음, 웹 문서 편집기 save 버튼

### 300 Redirection

웹 브라우저는 300번대 응답 결과에 Location 헤더가 있으면 Location 위치로 자동 이동

#### Redirection 종류

- 영구 리다이렉션 - 특정 리소스의 URI 가 영구적으로 이동
- 일시 리다이렉션 - 일시 변경, 주문 완료 후 주문 내역 화면으로 이동 
- 특수 리다이렉션 - 결과 대신 캐시 사용

1. 영구 리다이렉션

   원래 URL을 사용하지 못하고 검색 엔진 등에서도 변경을 인지한 상태

   - `301 Moved Permanently` - 리다이렉트시 요청 메서드가 GET으로 바뀌고 본문이 제거될 가능성이 있음
   - `308 Permanent Redirect` - 301와 기능이 같지만 <u>리다이렉트시 요청 메서드와 본문을 유지함</u>

2. 일시적 리다이렉션

   리소스  URI가 일시적으로 변경, 검색 엔진 등에서 URL을 변경하면 안됨

   - `302 Found` - 리다이렉트시 요청 메서드가 GET으로 바뀌고 본문이 제거될 가능성이 있음
   - `307 Temporary Redirect` - 302 와 기능이 같으나 <u>리다이렉트 요청 메서드와 본문 유지</u> **<u>(요청 메서드를 번경하면 안된다. Must Not)</u>**
   - `303 See Other` - 리다이렉트시 요청 메서드가 <u>GET으로 변경</u>

   예시 - PRG(POST REDIRECT GET)

   - POST로 주문하고 새로고침으로 인한 중복 주문 방지
     1. POST로 주문하고 주면 결과 화면을 GET 으로 REDIRECT
     2. 새로고침 해도 결과 화면을 GET으로 조회
     3. 중복 주문 대신 결과 화면만 GET으로 다시 요청하게 됨

3. 기타 리다이렉션
   - `304 Not Modified` 
     - 캐시 목적으로 사용
     - 클라이언트에게 리소스 수정이 되지 않음을 알림, 클라이언트는 로컬에 저장된 캐시 재사용(리다이렉트) 한다.
     - ***<u>304 응답에 메시지 바디를 포함하면 안된다</u>***
     - 조건부 GET, HEAD 요청시 사용

### 400 Client Error

- 잘못된 클라이언트 요청으로 서버가 요청을 수행하지 못함
- 클라이언트가 이미 잘못된 요청 데이터를 보내고 있다. 그래서 같은 요청은 다시 실패한다.

- `400 Bad Request` - 잘못된 클라이언트 요청
- `401 Unauthorized` - 인증 필요, 응답에 WWW-Authenticate 헤더와 인증 방법 설명
  * 인증(Authentication): 본인이 누구인지 확인, 로그인
  * 인가(Authorization): 권한부여, `admin` 권한 처럼 특정 리소스 접근 권한, 인증 후 인가
  * 오류 메시지가 Unauthorized이지만 인증 되지 않음

- `403 Forbidden` - 서버가 요청을 이해하지만 승인을 거부함, 인증은 되었지만 권한이 없는 경우
- `404 Not Found` - 서버에 요청 리소스가 없음, 클라이언트 권한이 부족한 상황에서 리소스에 접근할 때 리소스를 숨길 때 사용

### 500 Server Error

- 서버 문제로 인한 오류

- `500 Internal Server Error` - 심각한 서버 내부 문제

- `503 Service Unvailable` - 서버 과부하 및 서버 다운이 필요한 작업을 수행할 때, Retry-After 헤더 필드로 복구 시간을 보낼 수 있슴

  